(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9427],{38806:function(e,t,n){Promise.resolve().then(n.t.bind(n,72972,23)),Promise.resolve().then(n.bind(n,82285))},12119:function(e,t,n){"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return a}});let r=n(83079);function a(e){let{createServerReference:t}=n(6671);return t(e,r.callServer)}},82285:function(e,t,n){"use strict";var r=n(57437),a=n(12381),s=n(80670),i=n(40279),o=n(23340),l=n(24620),u=n(13590),c=n(6394),d=n(21770),p=n(2265),f=n(29501),m=n(31229),h=n(16212),x=n(74229);t.default=()=>{let{toast:e}=(0,o.pm)(),[t,n]=(0,p.useState)(1),{isPending:v,mutateAsync:g}=(0,d.D)({mutationFn:e=>(0,l.TG)(e)}),b=m.z.object({phone:m.z.string({required_error:"phone is required"}).min(1,"phone is required")}),w=m.z.object({code:m.z.string().length(5,"The OTP must be 5 digits long")}),y=m.z.object({password:m.z.string({required_error:"password is required"}).min(1,"password is required"),password_confirmation:m.z.string({required_error:"password_confirmation is required"}).min(1,"password_confirmation is required")}),E=(0,f.cI)({defaultValues:{phone:""},resolver:(0,u.F)(b)}),j=(0,f.cI)({defaultValues:{code:""},resolver:(0,u.F)(w)}),F=(0,f.cI)({defaultValues:{password:"",password_confirmation:""},resolver:(0,u.F)(y)}),S=async t=>{let r=await g(t);200===r.status?(e({title:"تم التسجيل بنجاح",description:"تم إرسال رمز التحقق إلى هاتفك.",variant:"default"}),n(2)):e({title:"خطأ في التسجيل",description:(null==r?void 0:r.message)||"حدث خطأ غير متوقع.",variant:"destructive"})},k=async t=>{try{let r=await (0,l.zL)({...E.getValues(),code:t.code});200===r.status?(e({title:"تم التحقق بنجاح",description:"تم التحقق من رمز OTP بنجاح.",variant:"default"}),n(3)):e({title:"خطأ في التحقق",description:(null==r?void 0:r.message)||"حدث خطأ غير متوقع أثناء التحقق.",variant:"destructive"})}catch(t){e({title:"خطأ في الاتصال",description:"فشل الاتصال بالسيرفر. ".concat(t,"  "),variant:"destructive"})}},C=async t=>{try{let n=await (0,l.mP)({...E.getValues(),...j.getValues(),password:t.password,password_confirmation:t.password_confirmation});200===n.status?(e({title:"تم التغير بنجاح",description:"تم تغير كلمه المرور بنجاح.",variant:"default"}),setTimeout(()=>{window.location.href="/auth/login"},1e3)):e({title:"خطأ في التحقق",description:(null==n?void 0:n.message)||"حدث خطأ غير متوقع أثناء التحقق.",variant:"destructive"})}catch(t){e({title:"خطأ في الاتصال",description:"فشل الاتصال بالسيرفر. ".concat(t,"  "),variant:"destructive"})}};return(0,r.jsxs)("div",{className:"w-full flex flex-col gap-y-[20px]",children:[1===t&&(0,r.jsx)(s.l0,{...E,children:(0,r.jsxs)("form",{onSubmit:E.handleSubmit(S),className:"w-full flex flex-col gap-y-[20px] ",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-y-[12px]",children:[(0,r.jsx)("h2",{className:" text-[28px] font-[700] ",children:" نسيت كلمة المرور "}),(0,r.jsxs)("p",{className:' text-[18px] font-[400] leading-[26px]" ',children:["  من فضلك أدخل رقم هاتفك المسجل بحسابك حتي تستطيع إنشاء رقم ",(0,r.jsx)("br",{})," سرى جديد. "]})]}),(0,r.jsx)("div",{className:"flex flex-col space-y-4 pt-[40px] ",children:(0,r.jsx)("div",{className:"flex flex-col space-y-1.5 ",children:(0,r.jsx)(s.Wi,{name:"phone",control:E.control,render:e=>{let{field:t}=e;return(0,r.jsxs)(s.xJ,{children:[(0,r.jsx)(c._,{htmlFor:"phone",children:"رقم الهاتف"}),(0,r.jsx)(i.I,{...t,placeholder:"1234567890",type:"number"}),(0,r.jsx)(s.zG,{})]})}})})}),(0,r.jsx)(a.z,{className:"text-[16px] font-[700] ",variant:"default",size:"default",children:"ارسل"})]})}),2===t&&(0,r.jsx)(s.l0,{...j,children:(0,r.jsxs)("form",{onSubmit:j.handleSubmit(k),className:"flex flex-col gap-y-[20px]",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-y-[12px]",children:[(0,r.jsx)("h2",{className:" text-[28px] font-[700] ",children:" تحقق "}),(0,r.jsx)("p",{className:' text-[18px] font-[400] leading-[26px]" ',children:"  لقد قمنا بإرسال رمز التحقق إلى الرقم 966123456789+ لتعديل بيانات حسابك الشخصي  "})]}),(0,r.jsx)("div",{className:"flex flex-col justify-center items-center space-y-4 pt-[40px]",children:(0,r.jsx)(s.Wi,{name:"code",control:j.control,render:e=>{let{field:t}=e;return(0,r.jsxs)(s.xJ,{children:[(0,r.jsx)(h.hf,{children:(0,r.jsx)(h.Zn,{className:"text-center",maxLength:5,...t,children:Array.from({length:5}).map((e,t)=>(0,r.jsx)(h.cY,{index:t},t))})}),(0,r.jsx)(s.zG,{})]})}})}),(0,r.jsx)(a.z,{disabled:v,className:"text-[16px] font-[700]",children:"ارسل"})]})}),3===t&&(0,r.jsx)(s.l0,{...F,children:(0,r.jsxs)("form",{onSubmit:F.handleSubmit(C),className:"w-full flex flex-col gap-y-[20px] ",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-y-[12px]",children:[(0,r.jsx)("h2",{className:" text-[28px] font-[700] ",children:" كلمة المرور الجديدة "}),(0,r.jsx)("p",{className:' text-[18px] font-[400] leading-[26px]" ',children:"  أدخل كلمة المرور الجديدة الخاصة بك، حيث تتكون على الأقل من 8 حروف. "})]}),(0,r.jsxs)("div",{className:"flex flex-col space-y-4 pt-[40px] ",children:[(0,r.jsx)(s.Wi,{name:"password",control:F.control,render:e=>{let{field:t}=e;return(0,r.jsxs)(s.xJ,{children:[(0,r.jsx)(x.Z,{id:"password",name:t.name,value:t.value,onChange:t.onChange,label:" كلمة المرور  "}),(0,r.jsx)(s.zG,{})]})}}),(0,r.jsx)("div",{className:"flex flex-col space-y-1.5",children:(0,r.jsx)(s.Wi,{name:"password_confirmation",control:F.control,render:e=>{let{field:t}=e;return(0,r.jsxs)(s.xJ,{children:[(0,r.jsx)(x.Z,{id:"password_confirmation",name:t.name,value:t.value,onChange:t.onChange,label:" كلمة المرور  "}),(0,r.jsx)(s.zG,{})]})}})})]}),(0,r.jsx)(a.z,{disabled:v,className:"text-[16px] font-[700] ",variant:"default",size:"default",children:"تغيير كلمة المرور"})]})})]})}},74229:function(e,t,n){"use strict";var r=n(57437),a=n(2265),s=n(75060),i=n(40279),o=n(12381);t.Z=e=>{let{id:t,name:n,label:l="كلمة المرور",placeholder:u="******9",value:c,onChange:d}=e,[p,f]=(0,a.useState)(!1);return(0,r.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,r.jsx)(s._,{htmlFor:t,children:l}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(i.I,{id:t,name:n,placeholder:u,type:p?"text":"password",value:c,onChange:d}),(0,r.jsx)(o.z,{type:"button",size:"icon",variant:"ghost",className:"absolute ltr:right-3 rtl:left-3 top-1/2 transform -translate-y-1/2 bg-transparent ",onClick:()=>{f(e=>!e)},children:(0,r.jsx)("img",{src:"/assets/icons/EyeIcon.svg",alt:"icon"})})]})]})}},12381:function(e,t,n){"use strict";n.d(t,{d:function(){return l},z:function(){return u}});var r=n(57437),a=n(2265),s=n(37053),i=n(90535),o=n(91001);let l=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-neutral-950 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:focus-visible:ring-neutral-300",{variants:{variant:{default:"bg-[#16476D] text-[#FFFFFF] shadow hover:bg-[#16476D]/90 dark:bg-[#E8EDF0] dark:text-[#16476D] dark:hover:bg-[#E8EDF0]/90",destructive:"bg-[#E92727] text-[#FFFFFF] shadow-sm hover:bg-[#E92727]/90 dark:bg-[#ECF9F5] dark:text-[#E8EDF0] dark:hover:bg-[#ECF9F5]/90",outline:"border border-[#EBEBEC] bg-transparent text-[#FFFFFF] shadow-sm hover:bg-[#EBEBEC]/80 hover:text-[#16476D] dark:border-[#EBEBEC] dark:bg-[#16476D] dark:hover:bg-[#16476D]/90 dark:hover:text-[#E8EDF0]",secondary:"bg-[#FDEEEE] text-[#FFFFFF] shadow-sm hover:bg-[#FDEEEE]/80 dark:bg-[#10B981] dark:text-[#E8EDF0] dark:hover:bg-[#10B981]/80",ghost:"text-[#FFFFFF] hover:bg-[#EBEBEC] hover:text-[#16476D] dark:hover:bg-[#16476D] dark:hover:text-[#E8EDF0]",link:"text-[#FFFFFF] underline-offset-4 hover:underline dark:text-[#E8EDF0]",transparent:"border-2 border-normal bg-transparent text-[#16476D] hover:bg-[#16476D]/10 dark:text-[#E8EDF0] dark:hover:bg-[#16476D]/10",primary:"bg-[#F49100] text-[#FFFFFF] shadow hover:bg-[#F49100]/90 dark:bg-[#FFD8A1] dark:text-[#16476D] dark:hover:bg-[#FFD8A1]/90"},size:{default:"p-[16px] rounded-[4px]",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=a.forwardRef((e,t)=>{let{className:n,variant:a,size:i,asChild:u=!1,...c}=e,d=u?s.g7:"button";return(0,r.jsx)(d,{className:(0,o.cn)(l({variant:a,size:i,className:n})),ref:t,...c})});u.displayName="Button"},80670:function(e,t,n){"use strict";n.d(t,{Wi:function(){return d},l0:function(){return u},xJ:function(){return m},zG:function(){return h}});var r=n(57437),a=n(2265),s=n(37053),i=n(29501),o=n(91001),l=n(75060);let u=i.RV,c=a.createContext({}),d=e=>{let{...t}=e;return(0,r.jsx)(c.Provider,{value:{name:t.name},children:(0,r.jsx)(i.Qr,{...t})})},p=()=>{let e=a.useContext(c),t=a.useContext(f),{getFieldState:n,formState:r}=(0,i.Gc)(),s=n(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=t;return{id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message"),...s}},f=a.createContext({}),m=a.forwardRef((e,t)=>{let{className:n,...s}=e,i=a.useId();return(0,r.jsx)(f.Provider,{value:{id:i},children:(0,r.jsx)("div",{ref:t,className:(0,o.cn)("space-y-2",n),...s})})});m.displayName="FormItem",a.forwardRef((e,t)=>{let{className:n,...a}=e,{error:s,formItemId:i}=p();return(0,r.jsx)(l._,{ref:t,className:(0,o.cn)(s&&"text-red-500 dark:text-red-900",n),htmlFor:i,...a})}).displayName="FormLabel",a.forwardRef((e,t)=>{let{...n}=e,{error:a,formItemId:i,formDescriptionId:o,formMessageId:l}=p();return(0,r.jsx)(s.g7,{ref:t,id:i,"aria-describedby":a?"".concat(o," ").concat(l):"".concat(o),"aria-invalid":!!a,...n})}).displayName="FormControl",a.forwardRef((e,t)=>{let{className:n,...a}=e,{formDescriptionId:s}=p();return(0,r.jsx)("p",{ref:t,id:s,className:(0,o.cn)("text-[0.8rem] text-neutral-500 dark:text-neutral-400",n),...a})}).displayName="FormDescription";let h=a.forwardRef((e,t)=>{let{className:n,children:a,...s}=e,{error:i,formMessageId:l}=p(),u=i?String(null==i?void 0:i.message):a;return u?(0,r.jsx)("p",{ref:t,id:l,className:(0,o.cn)("text-[0.8rem] font-medium text-red-500 dark:text-red-900",n),...s,children:u}):null});h.displayName="FormMessage"},16212:function(e,t,n){"use strict";n.d(t,{Zn:function(){return o},cY:function(){return u},hf:function(){return l}});var r=n(57437),a=n(2265),s=n(35934),i=n(91001);let o=a.forwardRef((e,t)=>{let{className:n,containerClassName:a,...o}=e;return(0,r.jsx)(s.uZ,{ref:t,containerClassName:(0,i.cn)("flex items-center  flex-row-reverse gap-2 has-[:disabled]:opacity-50",a),className:(0,i.cn)("disabled:cursor-not-allowed",n),...o})});o.displayName="InputOTP";let l=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center",n),...a})});l.displayName="InputOTPGroup";let u=a.forwardRef((e,t)=>{let{index:n,className:o,...l}=e,{char:u,hasFakeCaret:c,isActive:d}=a.useContext(s.VM).slots[n];return(0,r.jsxs)("div",{ref:t,className:(0,i.cn)("relative flex w-[90px] h-[90px] items-center justify-center   border-2 border-text-borders rounded-md text-[32px] fpnt-[700] shadow-sm ",d&&"z-10 ring-1 ring-text-main dark:ring-neutral-300",o),...l,children:[u,c&&(0,r.jsx)("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:(0,r.jsx)("div",{className:"h-4 w-px animate-caret-blink bg-neutral-950 duration-1000 dark:bg-neutral-50"})})]})});u.displayName="InputOTPSlot"},40279:function(e,t,n){"use strict";n.d(t,{I:function(){return i}});var r=n(57437),a=n(2265),s=n(91001);let i=a.forwardRef((e,t)=>{let{className:n,type:a,...i}=e;return(0,r.jsx)("input",{type:a,className:(0,s.cn)("flex w-full rounded-md border border-text-borders bg-transparent px-[12px] py-[16px] text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium  placeholder:text-text-sub focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-neutral-950 disabled:cursor-not-allowed disabled:opacity-50 md:text-[16px] dark:border-neutral-800  dark:focus-visible:ring-neutral-300",n),ref:t,...i})});i.displayName="Input"},75060:function(e,t,n){"use strict";n.d(t,{_:function(){return u}});var r=n(57437),a=n(2265),s=n(6394),i=n(90535),o=n(91001);let l=(0,i.j)("text-[14px] font-normal leading-[20px] peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(s.f,{ref:t,className:(0,o.cn)(l(),n),...a})});u.displayName=s.f.displayName},23340:function(e,t,n){"use strict";n.d(t,{pm:function(){return p}});var r=n(2265);let a=0,s=new Map,i=e=>{if(s.has(e))return;let t=setTimeout(()=>{s.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:n}=t;return n?i(n):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===n||void 0===n?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],u={toasts:[]};function c(e){u=o(u,e),l.forEach(e=>{e(u)})}function d(e){let{...t}=e,n=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:n});return c({type:"ADD_TOAST",toast:{...t,id:n,open:!0,onOpenChange:e=>{e||r()}}}),{id:n,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:n}})}}function p(){let[e,t]=r.useState(u);return r.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:d,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},24620:function(e,t,n){"use strict";n.d(t,{TG:function(){return o},mP:function(){return a},z4:function(){return i},zL:function(){return l},zl:function(){return s}}),n(83079);var r=n(12119),a=(0,r.$)("395f120fee9c89eb78c6af8ddce6b6982ff183f9"),s=(0,r.$)("52ee3b93897d2ee541ed11f0dbcadca0839bc956"),i=(0,r.$)("d2d6554c3eccc6fafc31302f556aebe4946e46d3"),o=(0,r.$)("3900c06fc475157ed3cc9ea701f535756d78483c"),l=(0,r.$)("08b9854ff40ec24e20694a4adc4b1574e9aad7d7")},91001:function(e,t,n){"use strict";n.d(t,{cn:function(){return s}});var r=n(61994),a=n(53335);function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.m6)((0,r.W)(t))}},21770:function(e,t,n){"use strict";n.d(t,{D:function(){return d}});var r=n(2265),a=n(2894),s=n(18238),i=n(24112),o=n(45345),l=class extends i.l{#e;#t=void 0;#n;#r;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,o.VS)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,o.Ym)(t.mutationKey)!==(0,o.Ym)(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#a(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#s()}mutate(e,t){return this.#r=t,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#a(){let e=this.#n?.state??(0,a.R)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#s(e){s.V.batch(()=>{if(this.#r&&this.hasListeners()){let t=this.#t.variables,n=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,t,n),this.#r.onSettled?.(e.data,null,t,n)):e?.type==="error"&&(this.#r.onError?.(e.error,t,n),this.#r.onSettled?.(void 0,e.error,t,n))}this.listeners.forEach(e=>{e(this.#t)})})}},u=n(29827),c=n(51172);function d(e,t){let n=(0,u.NL)(t),[a]=r.useState(()=>new l(n,e));r.useEffect(()=>{a.setOptions(e)},[a,e]);let i=r.useSyncExternalStore(r.useCallback(e=>a.subscribe(s.V.batchCalls(e)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),o=r.useCallback((e,t)=>{a.mutate(e,t).catch(c.Z)},[a]);if(i.error&&(0,c.L)(a.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}},51172:function(e,t,n){"use strict";function r(e,t){return"function"==typeof e?e(...t):!!e}function a(){}n.d(t,{L:function(){return r},Z:function(){return a}})},35934:function(e,t,n){"use strict";n.d(t,{VM:function(){return m},uZ:function(){return h}});var r=n(2265),a=Object.defineProperty,s=Object.defineProperties,i=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))l.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))u.call(t,n)&&c(e,n,t[n]);return e},p=(e,t)=>s(e,i(t)),f=(e,t)=>{var n={};for(var r in e)l.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&o)for(var r of o(e))0>t.indexOf(r)&&u.call(e,r)&&(n[r]=e[r]);return n},m=r.createContext({}),h=r.forwardRef((e,t)=>{let n;var a,s,i,o,l,{value:u,onChange:c,maxLength:h,textAlign:g="left",pattern:b,placeholder:w,inputMode:y="numeric",onComplete:E,pushPasswordManagerStrategy:j="increase-width",pasteTransformer:F,containerClassName:S,noScriptCSSFallback:k=v,render:C,children:N}=e,M=f(e,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]);let[D,O]=r.useState("string"==typeof M.defaultValue?M.defaultValue:""),T=null!=u?u:D,_=(n=r.useRef(),r.useEffect(()=>{n.current=T}),n.current),P=r.useCallback(e=>{null==c||c(e),O(e)},[c]),R=r.useMemo(()=>b?"string"==typeof b?new RegExp(b):b:null,[b]),I=r.useRef(null),A=r.useRef(null),z=r.useRef({value:T,onChange:P,isIOS:"undefined"!=typeof window&&(null==(s=null==(a=null==window?void 0:window.CSS)?void 0:a.supports)?void 0:s.call(a,"-webkit-touch-callout","none"))}),B=r.useRef({prev:[null==(i=I.current)?void 0:i.selectionStart,null==(o=I.current)?void 0:o.selectionEnd,null==(l=I.current)?void 0:l.selectionDirection]});r.useImperativeHandle(t,()=>I.current,[]),r.useEffect(()=>{let e=I.current,t=A.current;if(!e||!t)return;function n(){if(document.activeElement!==e){q(null),Z(null);return}let t=e.selectionStart,n=e.selectionEnd,r=e.selectionDirection,a=e.maxLength,s=e.value,i=B.current.prev,o=-1,l=-1,u;if(0!==s.length&&null!==t&&null!==n){let e=t===n,r=t===s.length&&s.length<a;if(e&&!r){if(0===t)o=0,l=1,u="forward";else if(t===a)o=t-1,l=t,u="backward";else if(a>1&&s.length>1){let e=0;if(null!==i[0]&&null!==i[1]){u=t<i[1]?"backward":"forward";let n=i[0]===i[1]&&i[0]<a;"backward"!==u||n||(e=-1)}o=e+t,l=e+t+1}}-1!==o&&-1!==l&&o!==l&&I.current.setSelectionRange(o,l,u)}let c=-1!==o?o:t,d=-1!==l?l:n,p=null!=u?u:r;q(c),Z(d),B.current.prev=[c,d,p]}if(z.current.value!==e.value&&z.current.onChange(e.value),B.current.prev=[e.selectionStart,e.selectionEnd,e.selectionDirection],document.addEventListener("selectionchange",n,{capture:!0}),n(),document.activeElement===e&&G(!0),!document.getElementById("input-otp-style")){let e=document.createElement("style");if(e.id="input-otp-style",document.head.appendChild(e),e.sheet){let t="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";x(e.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),x(e.sheet,`[data-input-otp]:autofill { ${t} }`),x(e.sheet,`[data-input-otp]:-webkit-autofill { ${t} }`),x(e.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),x(e.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let r=()=>{t&&t.style.setProperty("--root-height",`${e.clientHeight}px`)};r();let a=new ResizeObserver(r);return a.observe(e),()=>{document.removeEventListener("selectionchange",n,{capture:!0}),a.disconnect()}},[]);let[W,V]=r.useState(!1),[L,G]=r.useState(!1),[$,q]=r.useState(null),[H,Z]=r.useState(null);r.useEffect(()=>{var e;setTimeout(e=()=>{var e,t,n,r;null==(e=I.current)||e.dispatchEvent(new Event("input"));let a=null==(t=I.current)?void 0:t.selectionStart,s=null==(n=I.current)?void 0:n.selectionEnd,i=null==(r=I.current)?void 0:r.selectionDirection;null!==a&&null!==s&&(q(a),Z(s),B.current.prev=[a,s,i])},0),setTimeout(e,10),setTimeout(e,50)},[T,L]),r.useEffect(()=>{void 0!==_&&T!==_&&_.length<h&&T.length===h&&(null==E||E(T))},[h,E,_,T]);let U=function({containerRef:e,inputRef:t,pushPasswordManagerStrategy:n,isFocused:a}){let[s,i]=r.useState(!1),[o,l]=r.useState(!1),[u,c]=r.useState(!1),d=r.useMemo(()=>"none"!==n&&("increase-width"===n||"experimental-no-flickering"===n)&&s&&o,[s,o,n]),p=r.useCallback(()=>{let r=e.current,a=t.current;if(!r||!a||u||"none"===n)return;let s=r.getBoundingClientRect().left+r.offsetWidth,o=r.getBoundingClientRect().top+r.offsetHeight/2;0===document.querySelectorAll('[data-lastpass-icon-root],com-1password-button,[data-dashlanecreated],[style$="2147483647 !important;"]').length&&document.elementFromPoint(s-18,o)===r||(i(!0),c(!0))},[e,t,u,n]);return r.useEffect(()=>{let t=e.current;if(!t||"none"===n)return;function r(){l(window.innerWidth-t.getBoundingClientRect().right>=40)}r();let a=setInterval(r,1e3);return()=>{clearInterval(a)}},[e,n]),r.useEffect(()=>{let e=a||document.activeElement===t.current;if("none"===n||!e)return;let r=setTimeout(p,0),s=setTimeout(p,2e3),i=setTimeout(p,5e3),o=setTimeout(()=>{c(!0)},6e3);return()=>{clearTimeout(r),clearTimeout(s),clearTimeout(i),clearTimeout(o)}},[t,a,n,p]),{hasPWMBadge:s,willPushPWMBadge:d,PWM_BADGE_SPACE_WIDTH:"40px"}}({containerRef:A,inputRef:I,pushPasswordManagerStrategy:j,isFocused:L}),J=r.useCallback(e=>{let t=e.currentTarget.value.slice(0,h);if(t.length>0&&R&&!R.test(t)){e.preventDefault();return}"string"==typeof _&&t.length<_.length&&document.dispatchEvent(new Event("selectionchange")),P(t)},[h,P,_,R]),K=r.useCallback(()=>{var e;if(I.current){let t=Math.min(I.current.value.length,h-1),n=I.current.value.length;null==(e=I.current)||e.setSelectionRange(t,n),q(t),Z(n)}G(!0)},[h]),Y=r.useCallback(e=>{var t,n;let r=I.current;if(!F&&(!z.current.isIOS||!e.clipboardData||!r))return;let a=e.clipboardData.getData("text/plain"),s=F?F(a):a;console.log({_content:a,content:s}),e.preventDefault();let i=null==(t=I.current)?void 0:t.selectionStart,o=null==(n=I.current)?void 0:n.selectionEnd,l=(i!==o?T.slice(0,i)+s+T.slice(o):T.slice(0,i)+s+T.slice(i)).slice(0,h);if(l.length>0&&R&&!R.test(l))return;r.value=l,P(l);let u=Math.min(l.length,h-1),c=l.length;r.setSelectionRange(u,c),q(u),Z(c)},[h,P,R,T]),Q=r.useMemo(()=>({position:"relative",cursor:M.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[M.disabled]),X=r.useMemo(()=>({position:"absolute",inset:0,width:U.willPushPWMBadge?`calc(100% + ${U.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:U.willPushPWMBadge?`inset(0 ${U.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:g,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[U.PWM_BADGE_SPACE_WIDTH,U.willPushPWMBadge,g]),ee=r.useMemo(()=>r.createElement("input",p(d({autoComplete:M.autoComplete||"one-time-code"},M),{"data-input-otp":!0,"data-input-otp-placeholder-shown":0===T.length||void 0,"data-input-otp-mss":$,"data-input-otp-mse":H,inputMode:y,pattern:null==R?void 0:R.source,"aria-placeholder":w,style:X,maxLength:h,value:T,ref:I,onPaste:e=>{var t;Y(e),null==(t=M.onPaste)||t.call(M,e)},onChange:J,onMouseOver:e=>{var t;V(!0),null==(t=M.onMouseOver)||t.call(M,e)},onMouseLeave:e=>{var t;V(!1),null==(t=M.onMouseLeave)||t.call(M,e)},onFocus:e=>{var t;K(),null==(t=M.onFocus)||t.call(M,e)},onBlur:e=>{var t;G(!1),null==(t=M.onBlur)||t.call(M,e)}})),[J,K,Y,y,X,h,H,$,M,null==R?void 0:R.source,T]),et=r.useMemo(()=>({slots:Array.from({length:h}).map((e,t)=>{var n;let r=L&&null!==$&&null!==H&&($===H&&t===$||t>=$&&t<H),a=void 0!==T[t]?T[t]:null;return{char:a,placeholderChar:void 0!==T[0]?null:null!=(n=null==w?void 0:w[t])?n:null,isActive:r,hasFakeCaret:r&&null===a}}),isFocused:L,isHovering:!M.disabled&&W}),[L,W,h,H,$,M.disabled,T]),en=r.useMemo(()=>C?C(et):r.createElement(m.Provider,{value:et},N),[N,et,C]);return r.createElement(r.Fragment,null,null!==k&&r.createElement("noscript",null,r.createElement("style",null,k)),r.createElement("div",{ref:A,"data-input-otp-container":!0,style:Q,className:S},en,r.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},ee)))});function x(e,t){try{e.insertRule(t)}catch(e){console.error("input-otp could not insert CSS rule:",t)}}h.displayName="Input";var v=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`}},function(e){e.O(0,[2972,5569,1262,3080,6663,2971,2117,1744],function(){return e(e.s=38806)}),_N_E=e.O()}]);